---
title: 小程序-自定义弹窗
date: 2019-01-03 16:45:50
tags:
---

# 1. wxml中
这段可以贴在最最最,末尾的位置
```
<!--弹窗-->
<view class="modal-dialog" wx:if="{{showModal}}">
    <view class="modal-title">预订人信息</view>
    <view class="modal-content">
        <view class="modal-info">姓名: '张三'</view>
        <view class="modal-info">电话:''10010</view>
    </view>
    <view class="modal-footer">
        <view class="btn-cancel" bindtap="onCancel" data-status="cancel">取消</view>
        <view class="btn-confirm" bindtap="onConfirm" data-status="confirm">call</view>
    </view>
</view>
```
# 2. wxss中
```
.modal-mask {
    width: 100%;
    height: 100%;
    position: fixed;
    top: 0;
    left: 0;
    background: #000;
    opacity: 0.5;
    overflow: hidden;
    z-index: 9000;
    color: #fff;
}

.modal-dialog {
    width: 540rpx;
    overflow: hidden;
    position: fixed;
    top: 50%;
    left: 0;
    z-index: 9999;
    background: #f9f9f9;
    margin: -180rpx 105rpx;
    border-radius: 36rpx;
}

.modal-title {
    padding-top: 50rpx;
    font-size: 36rpx;
    color: #030303;
    text-align: center;
}

.modal-info {
    display: flex;
    justify-content: center;
}

.input {
    width: 100%;
    height: 82rpx;
    font-size: 28rpx;
    line-height: 28rpx;
    padding: 0 20rpx;
    box-sizing: border-box;
    color: #333;
}

input-holder {
    color: #666;
    font-size: 28rpx;
}

.modal-footer {
    display: flex;
    flex-direction: row;
    height: 86rpx;
    border-top: 1px solid #dedede;
    font-size: 34rpx;
    line-height: 86rpx;
}

.btn-cancel {
    width: 50%;
    color: #666;
    text-align: center;
    border-right: 1px solid #dedede;
}

.btn-confirm {
    width: 50%;
    color: #ec5300;
    text-align: center;
}
```
# 3. js方法中
```!
在data中定义一个变量showModal:false
```
触发-->在其它的程序下,达到触发要求后调用触发函数
```!
that.showDialogBtn();
```
要用到的几个方法
```!
    /**
     * 弹窗
     */
    showDialogBtn: function() {
        this.setData({
            showModal: true
        })
    },
    /**
     * 弹出框蒙层截断touchmove事件
     */
    preventTouchMove: function() {},
    /**
     * 隐藏模态对话框
     */
    hideModal: function() {
        this.setData({
            showModal: false
        });
    },
    /**
     * 对话框取消按钮点击事件
     */
    onCancel: function() {
        this.hideModal();
    },
    /**
     * 对话框确认按钮点击事件
     */
    onConfirm: function() {
        this.hideModal();
        wx.makePhoneCall({
            phoneNumber: '10086'
        })
    }
```